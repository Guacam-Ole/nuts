<html ng-app="boomApp">
<head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="css/boom.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
    <script src="js/game.js"></script>
    <script src="js/events.js"></script>
    <script src="js/app.js"></script>
</head>
<body>
<div class="cardTable" ng-controller="tableController">
    <div class="left">
        <div class="players">
            <span class="subTitle">Players:</span>
                <ul>
                    <li ng-repeat="player in currentGame.players" class="{{player.state=='playing'?'active':''}}">
                        <span class="turn"><i title="{{player.state}}" class="fa {{getStateIcon(player.state)}}" ></i></span>
                        <span class="name" ng-click="setAsCurrentPlayer(player)" >{{player.name}}</span>
                        <span class="cardInfo">{{player.cards.length}} cards</span>
                    </li>
            </ul>
        </div>
        <div class="log">
            <span class="subTitle">History:</span>
            <ul>
                <li ng-repeat="entry in currentGame.getLog(10) track by $index">{{entry}}</li>
            </ul>
        </div>
        <a ng-click="startGame()">New Game</a>
    </div>
    <div class="right">
        <div class="top">
            <div class="deck">
                <div class="subTitle"><span>Remaining cards:</span></div>
                <img src="./img/cardback.png">
                <div class="deckText">{{currentGame.deck.length}} Cards on deck</div>
            </div>
            <div class="lastPlayedCards">
                <div class="subTitle"><span>Last played cards:</span></div>
                <div ng-repeat="card in currentGame.lastPlayedCards()" class="singleCard">
                    <img src="./img/{{card.image}}cardback.png">
                </div>

            </div>
        </div>
        <div class="yours" ng-Disabled="{{currentGame.currentPlayer().id!==id}}">
            <div class="play"><button ng-show="canPlay()">Play card(s)</button></div>
            <div class="yourCards">
                <div class="infoState">{{getState()}}</div>
                <div  class="singleCard {{cardIsSelected(card)?'selected':''}}" ng-repeat="card in currentGame.getMyProfile(id).cards track by $index" style="{{cardIsSelected(card)?'bottom:50px;z-index:700':''}}">
                    <img src="./img/{{card.image}}" title="{{card.name}}" ng-click="selectCard(card)"  >
                </div>

            </div>
            <div ng-hide="{{currentGame.currentPlayer().id===id}}" class="disableCards">&nbsp;</div>
        </div>

    </div>
</div>
</body>
</html>